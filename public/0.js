(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3fRZ":function(e,t,n){"use strict";var o=n("ex6f"),r={props:{value:{type:null|Object,default:function(){return null}},api_url:{type:String,default:null,required:!0},prepend:{type:String,default:""},append:{type:String,default:""},placeholder:{type:String,default:"Search Items"},size:{type:String,default:"sm"},autocomplete:{type:String,default:"off"},dropdownVariant:{type:String,default:"outline-secondary"},emptyOptionText:{type:String,default:"No items available to select"},inputClass:{type:String|Array,default:function(){return[]}},menuStyle:{type:String|Array,default:function(){return[]}},clearSearchOnItemSelected:{type:Boolean,default:!1},initOptions:{type:Boolean|String,default:!1},required:{type:Boolean,default:!1},state:{type:Boolean,default:null},hideDdIcon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},menuClass:{type:String|Object,default:function(){return""}},getFiltered:{type:Function},clearSearchOnDropdownHidden:{type:Boolean,default:function(){return!0}},optionText:{type:Function},tagText:{Type:Function}},data:function(){return{options:[],query:"",selected_item:null}},mounted:function(){this.initOptions&&(Object(o.a)(this.initOptions)&&this.initOptions?this.getItems(""):this.query=this.initOptions),this.$set(this,"selected_item",this.value)},computed:{getOptions:function(){return"function"==typeof this.getFiltered&&this.getFiltered?this.getFiltered(this.options):this.options}},watch:{value:{deep:!0,handler:function(e){this.$set(this,"selected_item",e)}}},methods:{reset:function(){this.$emit("input",null),this.$set(this,"selected_item",null),this.query=""},itemSelected:function(e){this.$emit("input",e),this.$set(this,"selected_item",e),this.clearSearchOnItemSelected&&(this.query=null)},getItems:function(e){var t=this;axios.post(this.api_url,{query:this.query}).then((function(e){t.$set(t,"options",e.data||[])})).catch((function(e){t.$set(t,"options",[]),console.error(e.response)}))}}},i=(n("c9im"),n("KHd+")),s=Object(i.a)(r,(function(){var e=this,t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"vue-select form-control p-0",class:{"is-invalid":null!==t.state&&t.state,"is-valid":null!==t.state&&!t.state,"form-control-sm":"sm"===t.size,"form-control-lg":"lg"===t.size,"form-control-xl":"xl"===t.size}},[t.required?o("input",{staticStyle:{height:"0",position:"absolute",top:"0",border:"0",outline:"0","z-index":"-1"},attrs:{type:"text",required:!0},domProps:{value:t.value?"initialized":""}}):t._e(),t._v(" "),o("b-dropdown",{class:{"hide-dd-icon":t.hideDdIcon,disabled:t.disabled},style:t.menuStyle,attrs:{block:"",lazy:"",variant:t.dropdownVariant,size:t.size,disabled:t.disabled,"toggle-class":"text-left m-0 border-0 border-radius-0","menu-class":t.menuClass},on:{hidden:function(){t.$emit("hidden",!0),e.clearSearchOnDropdownHidden&&(e.query="")}},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._t("tag",[t._v("\n                "+t._s("function"==typeof t.tagText?t.tagText(t.selected_item):(t.selected_item,t.placeholder))+"\n            ")],{tag:t.selected_item})]},proxy:!0}],null,!0)},[t._v(" "),o("div",{staticClass:"px-2"},[o("b-form-input",{class:t.inputClass,attrs:{autofocus:"",type:"search",size:t.size,placeholder:t.placeholder,autocomplete:t.autocomplete},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){return t.getItems(e)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),o("b-dropdown-divider"),t._v(" "),t._l(t.getOptions,(function(e,n){return o("b-dropdown-item",{key:n,on:{click:function(n){return t.itemSelected(e)}}},[t._t("option",[t._v("\n                "+t._s("function"==typeof t.optionText?t.optionText(e):e)+"\n            ")],{item:e,query:t.query})],2)})),t._v(" "),0===t.options.length?[t._t("empty",[0===t.options.length?o("b-dropdown-text",[t._v("\n                    "+t._s(t.emptyOptionText)+"\n                ")]):t._e()],{query:t.query})]:t._e(),t._v(" "),t._t("default_item",null,{query:t.query})],2)],1)}),[],!1,null,null,null);t.a=s.exports},QK5V:function(e,t,n){var o=n("LboF"),r=n("xA+E");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},a32V:function(e,t,n){"use strict";n.r(t);var o=n("j01/"),r=n("X/aF"),i=n("3fRZ"),s={mixins:[o.a],props:{submit_url:{type:String,default:function(){return route("Backend.Collections.Store")}}},components:{VueSelect:i.a},computed:{currentBalance:function(){return Number(this.form.previous_balance||0)-Number(this.form.payment_amount||0)}},data:function(){return{BasicModalOptions:r.a}}},l=n("KHd+"),u=Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",e._b({attrs:{title:e.__((e.form.id?"edit":"add")+"_collection",(e.form.id?"Edit ":"Add ")+"Collection")},on:{hidden:function(t){e.$router.go(-1),e.$emit("reset",!0),e.$emit("refreshDatatable",!0)}},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var o=t.cancel;return[n("b-button",{ref:"submitBtn",attrs:{variant:"primary"},on:{click:e.onSubmit}},[e._v("\n            "+e._s(e.__("submit","SUBMIT"))+"\n        ")]),e._v(" "),n("b-button",{on:{click:function(e){return o()}}},[e._v("\n            "+e._s(e.__("cancel","CANCEL"))+"\n        ")])]}}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},"b-modal",Object.assign({},e.BasicModalOptions,{size:"md"}),!1),[n("form",{ref:"theForm",on:{submit:function(t){return t.preventDefault(),e.hitSubmit(t)}}},[n("b-form-group",{attrs:{label:e.__("select_customer","Select Customer")}},[n("b-input-group",{scopedSlots:e._u([{key:"append",fn:function(){return[n("b-button",{attrs:{variant:"dark",title:e.__("reset","Reset")},on:{click:function(){e.form.customer=null,e.form.customer_id=null,e.form.previous_balance=0}}},[n("b-icon-x")],1)]},proxy:!0}])},[n("vue-select",{attrs:{"init-options":!0,size:"md",required:!0,"tag-text":function(t){return t?[t.id,t.name].join(" # "):e.__("not_selected","Not Selected")},"option-text":function(t){return t?[t.id,t.name,t.village].join(" # "):e.__("not_selected","Not Selected")},api_url:e.route("Backend.Customers.Search")},on:{input:function(t){e.form.previous_balance=t?t.balance:0,e.form.customer_id=t?t.id:null}},model:{value:e.form.customer,callback:function(t){e.$set(e.form,"customer",t)},expression:"form.customer"}})],1)],1),e._v(" "),n("b-form-group",{attrs:{label:e.__("previous_balance","Previous Balance")}},[n("div",{staticClass:"form-control bg-light"},[e._v(e._s(e._f("currency")(e.form.previous_balance)))])]),e._v(" "),n("b-form-group",{attrs:{label:e.__("payment_amount","Payment Amount")}},[n("b-input",{attrs:{required:"",type:"number",step:"any",min:0,placeholder:e.__("payment_amount","Payment Amount")},model:{value:e.form.payment_amount,callback:function(t){e.$set(e.form,"payment_amount",t)},expression:"form.payment_amount"}})],1),e._v(" "),n("b-form-group",{attrs:{label:e.__("current_balance","Current Balance")}},[n("div",{staticClass:"form-control bg-light"},[e._v(e._s(e._f("currency")(e.currentBalance)))])]),e._v(" "),n("b-form-group",{attrs:{label:e.__("reference","Reference")}},[n("b-input",{attrs:{type:"text",placeholder:e.__("payment_reference","Payment Reference")},model:{value:e.form.reference,callback:function(t){e.$set(e.form,"reference",t)},expression:"form.reference"}})],1)],1)])}),[],!1,null,null,null);t.default=u.exports},c9im:function(e,t,n){"use strict";var o=n("QK5V");n.n(o).a},"j01/":function(e,t,n){"use strict";var o=n("X/aF");t.a={props:{getCreatedItem:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}}},mounted:function(){this.form=this.item,Object(o.i)(this,(function(){}))},data:function(){return{form:{},errors:null,visible:!0}},methods:{getItem:o.g,onSubmit:o.o,hitSubmit:function(){this.$refs.submitBtn.click()},hasError:function(e){return!!(this.errors&&this.errors[e]&&this.errors[e].length)},getErrorMsg:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.hasError(e)?this.errors[e].join(t):""}}}},"xA+E":function(e,t,n){(t=n("JPst")(!1)).push([e.i,".vue-select .dropdown-menu {\n  max-height: 300px;\n  overflow-y: auto;\n  width: 100%;\n}\n.vue-select .dropdown-toggle::after {\n  position: absolute;\n  right: 10px;\n  top: 49%;\n}\n.vue-select .border-radius-0 {\n  border-radius: 0 !important;\n}\n.vue-select .top-reverse-100 {\n  top: -100% !important;\n}\n.vue-select .hide-dd-icon .dropdown-toggle::after {\n  display: none !important;\n}\n.vue-select.is-invalid, .vue-select.is-valid {\n  background-position: right calc(1.4em + 0.1875rem) center !important;\n}",""]),e.exports=t}}]);