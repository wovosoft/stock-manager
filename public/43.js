(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"3FcU":function(e,t,a){"use strict";a.r(t);var s=a("kQN2"),n=a("X/aF"),i=a("WaG5"),r={mixins:[s.a],data:function(){return{BasicModalOptions:n.a,disabled:!1,statuses:i.a}},methods:{changeStatus:function(e){var t=this;if(console.log(e),!e)return alert("Status is required"),!1;this.disabled=!0,axios.post(route("Backend.Collections.ChangeStatus",{customer:this.the_item.customer_id,order_collection:this.the_item.id}),{status:e}).then((function(e){t.$root.msgBox(e.data),t.$emit("refreshDatatable",!0),t.getItem(t.the_item.id,route("Backend.Collections.List")).then((function(e){t.the_item=e.data})).catch((function(e){return console.log(e.response)}))})).catch((function(e){console.log(e.response),t.$root.msgBox(e.response.data)}))},makePayment:function(){var e=this;this.disabled=!0,axios.post(route("Backend.Collections.MakePayment",{customer:this.the_item.customer_id,order_collection:this.the_item.id})).then((function(t){e.$root.msgBox(t.data),e.$emit("refreshDatatable",!0),e.getItem(e.the_item.id,route("Backend.Collections.List")).then((function(t){e.the_item=t.data})).catch((function(e){return console.log(e.response)}))})).catch((function(t){console.log(t.response),e.$root.msgBox(t.response.data)}))}}},o=a("KHd+"),l=Object(o.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",e._b({attrs:{visible:"",title:e.__("view_collection","View Collection")},on:{hidden:function(t){e.$router.go(-1),e.$emit("reset",!0)}}},"b-modal",Object.assign({},e.BasicModalOptions,{size:"xl"}),!1),[a("b-form-row",[a("b-col",{attrs:{md:"4",sm:"12"}},[a("b-card",{attrs:{header:e.__("customer_details","Customer Details"),"body-class":"p-0","header-text-variant":"light","header-bg-variant":"dark"}},[e.the_item.customer?a("b-table",{staticClass:"mb-0",attrs:{"thead-class":"d-none",small:"",striped:"",bordered:"",hover:"",fields:[{key:"key",formatter:function(t){return e.__(t)}},"value"],items:e.obj2Table(e.the_item.customer)}}):e._e()],1),e._v(" "),a("b-card",{staticClass:"mt-3",attrs:{header:e.__("user_details","User Details"),"body-class":"p-0","header-text-variant":"light","header-bg-variant":"dark"}},[e.the_item.user?a("b-table",{staticClass:"mb-0",attrs:{"thead-class":"d-none",small:"",striped:"",bordered:"",hover:"",fields:[{key:"key",formatter:function(t){return e.__(t)}},"value"],items:e.obj2Table(e.the_item.user)}}):e._e()],1)],1),e._v(" "),a("b-col",{attrs:{md:"8",sm:"12"}},[a("b-table",{attrs:{small:"",bordered:"",hover:"",striped:"","head-variant":"dark",items:e.obj2Table(e.the_item,["deleted_at","user","customer","user_id","customer_id"]),fields:[{key:"key",sortable:!0,label:e.__("key","Key"),formatter:function(t){return e.__(t,e.startCase(t))}},{key:"value",label:e.__("value","Value"),sortable:!0}]},scopedSlots:e._u([{key:"cell(value)",fn:function(t){return[["created_at","updated_at"].includes(t.item.key)?[e._v("\n                        "+e._s(e._f("localDateTime")(t.item.value))+"\n                    ")]:["previous_balance","payment_amount","current_balance"].includes(t.item.key)?[e._v("\n                        "+e._s(e._f("currency")(t.item.value))+"\n                    ")]:["status"].includes(t.item.key)?[e._v("\n                        "+e._s(e.__(t.item.value,e.startCase(t.item.value)))+"\n                    ")]:[e._v(e._s(t.item.value))]]}}])})],1)],1),e._v(" "),e.the_item&&e.the_item.status?a("b-row",[a("b-col",{attrs:{md:"4",sm:"12","offset-md":"4"}},[a("b-form-group",{attrs:{"label-class":"text-center",label:e.__("status","Status")}},[a("b-select",{attrs:{options:e.statuses},on:{input:e.changeStatus},model:{value:e.the_item.status,callback:function(t){e.$set(e.the_item,"status",t)},expression:"the_item.status"}})],1)],1)],1):e._e(),e._v(" "),e.the_item.payment_id||e.disabled?a("b-alert",{attrs:{variant:"success",show:""}},[e._v("\n        "+e._s(e.__("payment_completed","Payment Completed"))+"\n    ")]):a("div",{staticClass:"text-center",on:{click:e.makePayment}},[a("b-button",{attrs:{variant:"dark",size:"sm"}},[e._v(e._s(e.__("make_payment","Make Payment")))])],1)],1)}),[],!1,null,null,null);t.default=l.exports},WaG5:function(e,t,a){"use strict";t.a=[{text:_t("pending","Pending"),value:"Pending"},{text:_t("accepted","Accepted"),value:"Accepted"},{text:_t("returned","Returned"),value:"Returned"},{text:_t("processed","Processed"),value:"Processed"},{text:_t("cancelled","Cancelled"),value:"Cancelled"}]},kQN2:function(e,t,a){"use strict";var s=a("X/aF"),n=a("EIrz");t.a={props:{item:{type:Object,default:function(){return{}}}},methods:{obj2Table:s.m,startCase:n.a,getItem:s.g},data:function(){return{the_item:{}}},mounted:function(){var e=this;this.the_item=this.item,this.the_item&&Object.keys(this.item).length||this.getItem(this.$route.params.id,this.$parent.$props.api_url||this.$parent._data.api_url).then((function(t){e.the_item=t.data})).catch((function(e){return console.log(e.response)}))}}}}]);